<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Appendix 1: Command Line Options | CG/SQL</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Appendix 1: Command Line Options | CG/SQL"><meta data-react-helmet="true" name="description" content="&lt;!---"><meta data-react-helmet="true" property="og:description" content="&lt;!---"><meta data-react-helmet="true" property="og:url" content="https://cgsql.dev/cql-guide/x1"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cgsql.dev/cql-guide/x1"><link rel="stylesheet" href="/styles.9ec987f3.css">
<link rel="preload" href="/styles.c5ebf3bf.js" as="script">
<link rel="preload" href="/runtime~main.07c2b583.js" as="script">
<link rel="preload" href="/main.5f50e6e2.js" as="script">
<link rel="preload" href="/1.97dd76d6.js" as="script">
<link rel="preload" href="/2.3b029fcc.js" as="script">
<link rel="preload" href="/3.410ae77a.js" as="script">
<link rel="preload" href="/1be78505.41f57780.js" as="script">
<link rel="preload" href="/104.08649ef1.js" as="script">
<link rel="preload" href="/5456faf3.7d435045.js" as="script">
<link rel="preload" href="/17896441.8db391fa.js" as="script">
<link rel="preload" href="/477ff84b.075c9184.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div class="announcementBar_1l0Z" style="background-color:#20232a;color:#fff" role="banner"><div class="announcementBarContent_1xni">Support Ukraine ðŸ‡ºðŸ‡¦ <a target="_blank" rel="noopener noreferrer" href="https://opensource.fb.com/support-ukraine"> Help Provide Humanitarian Aid to Ukraine</a>.</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><strong class="navbar__title">CG/SQL</strong></a><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/cql-guide/ch01">CQL Guide</a><a class="navbar__item navbar__link" href="/cql-guide/int01">CQL Internals</a><a class="navbar__item navbar__link" href="/program-diagram">Railroad Diagram</a><a class="navbar__item navbar__link" href="/json-diagram">Railroad Diagram: JSON</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebookincubator/CG-SQL" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><strong class="navbar__title">CG/SQL</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/cql-guide/ch01">CQL Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/cql-guide/int01">CQL Internals</a></li><li class="menu__list-item"><a class="menu__link" href="/program-diagram">Railroad Diagram</a></li><li class="menu__list-item"><a class="menu__link" href="/json-diagram">Railroad Diagram: JSON</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/facebookincubator/CG-SQL" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CQL Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch01">Chapter 1: Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch02">Chapter 2: Using Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch03">Chapter 3: Expressions, Literals, Nullability, Sensitivity</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch04">Chapter 4: Procedures, Functions, and Control Flow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch05">Chapter 5: Types of Cursors, Shapes, OUT and OUT UNION, and FETCH</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch06">Chapter 6: Calling Procedures Defined Elsewhere</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch07">Chapter 7: CQL Result Sets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch08">Chapter 8: Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch09">Chapter 9: Statements Summary and Error Checking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch10">Chapter 10: Schema Management Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch11">Chapter 11: Previous Schema Validation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch12">Chapter 12: Testability Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch13">Chapter 13: JSON Output</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/ch14">Chapter 14: CQL Query Fragments</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Appendix</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/cql-guide/x1">Appendix 1: Command Line Options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cql-guide/x2">Appendix 2: CQL Grammar</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cql-guide/x3">Appendix 3: Control Directives</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cql-guide/x4">Appendix 4: CQL Error Codes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cql-guide/x5">Appendix 5: JSON Schema Grammar</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cql-guide/x6">Appendix 6: CQL In 20 Minutes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cql-guide/x7">Appendix 7: CQL Anti-patterns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cql-guide/x8">Appendix 8: CQL Best Practices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cql-guide/x9">Appendix 9: Using the CQL Amalgam</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cql-guide/x10">Appendix 10: CQL Working Example</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cql-guide/x11">Appendix 11: Production Considerations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CQL Internals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/int01">Part 1: Lexing, Parsing, and the AST</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/int02">Part 2: Semantic Analysis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/int03">Part 3: C Code Generation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/int04">Part 4: Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/int05">Part 5: CQL Runtime</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/int06">Part 6: Schema Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/int07">Part 7: JSON Generation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cql-guide/int08">Part 8: Test Helpers</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Appendix 1: Command Line Options</h1></header><div class="markdown"><p>CQL has a variety of command line options but many of them are only interesting for cql development.  Nonetheless this is a comprehensive list:</p><ul><li>note CQL is often used after the c pre-processor is run so this kind of invocation is typical:</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cc -E -x c foo.sql | cql [args]</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="with-no-options"></a>With No Options<a aria-hidden="true" tabindex="-1" class="hash-link" href="#with-no-options" title="Direct link to heading">#</a></h3><ul><li>emits a usage message</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--in-file"></a>--in file<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--in-file" title="Direct link to heading">#</a></h3><ul><li>reads the given file for the input instead of stdin</li><li>the input should probably have already been run through the C pre-processor as above</li><li>returns non-zero if the file fails to parse</li></ul><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cql --in test.sql</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--sem"></a>--sem<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--sem" title="Direct link to heading">#</a></h3><ul><li>performs semantic analysis on the input file ONLY</li><li>the return code is zero if there are no errors</li></ul><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cql --in sem_test.sql --sem</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--ast"></a>--ast<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--ast" title="Direct link to heading">#</a></h3><ul><li>walks the AST and prints it to stdout in human readable text form</li><li>may be combined with --sem (semantic info will be included)
Example</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cql --in sem_test.sql --sem --ast &gt;sem_ast.out</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--echo"></a>--echo<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--echo" title="Direct link to heading">#</a></h3><ul><li>walks the AST and emits the text of a program that would create it</li><li>this has the effect of &quot;beautifying&quot; badly formatted input or &quot;canonicalizing&quot; it<ul><li>some sensible indenting is added but it might not be the original indenting</li><li>extraneous whitespace, parens, etc. are removed</li></ul></li><li>may be combined with --sem (in which case you see the source after any rewrites for sugar)</li><li>this also validates that the input can be parsed</li></ul><p>Example</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cql --in test.sql --echo &gt;test.out  # test.out is &quot;equivalent&quot; to test.sql</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--dot"></a>--dot<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--dot" title="Direct link to heading">#</a></h3><ul><li>prints the internal AST to stdout in DOT format for graph visualization</li><li>this is really only interesting for small graphs for discussion as it rapidly gets insane</li></ul><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cql --dot --in dottest.sql</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--cg-output1-output2-"></a>--cg output1 output2 ...<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--cg-output1-output2-" title="Direct link to heading">#</a></h3><ul><li>any number of output files may be needed for a particular result type, two is common</li><li>the return code is zero if there are no errors</li><li>any --cg option implies --sem</li></ul><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cql --in foo.sql --cg foo.h foo.c</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--nolines"></a>--nolines<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--nolines" title="Direct link to heading">#</a></h3><ul><li>Suppress the # directives for lines.  Useful if you need to debug the C code.</li></ul><p>Example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cql --in test.sql --nolines --cg foo.h foo.c</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--global_proc-name"></a>--global_proc name<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--global_proc-name" title="Direct link to heading">#</a></h3><ul><li>any loose SQL statements not in a stored proc are gathered and put into a procedure of the given name</li><li>when generating a schema migrate script the global proc name is used as a prefix on all of the artifacts so that there can be several independent migrations linked into a single executable</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--compress"></a>--compress<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--compress" title="Direct link to heading">#</a></h3><ul><li>for use with the C result type, (or any similar types added to the runtime array in your compiler)</li><li>string literals for the SQL are broken into &quot;fragments&quot; the DML is then represented by an array of fragments</li><li>since DML is often very similar there is a lot of token sharing possible</li><li>the original string is recreated at runtime from the fragments and then executed</li><li>comments show the original string inline for easier debugging and searching</li></ul><p>NOTE: different result types require a different number of output files with different meanings</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--test"></a>--test<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--test" title="Direct link to heading">#</a></h3><ul><li>some of the output types can include extra diagnostics if <code>--test</code> is included</li><li>the test output often makes the outputs badly formed so this is generally good for humans only</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--dev"></a>--dev<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--dev" title="Direct link to heading">#</a></h3><ul><li>some codegen features only make sense during development, this enables dev mode to turn those one
** example: explain query plan</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--java_package_name-name"></a>--java_package_name name<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--java_package_name-name" title="Direct link to heading">#</a></h3><ul><li>used by java code generators when they output a class. Allows to specify the name of package the class will be a part of</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--java_assembly_query_classname-name"></a>--java_assembly_query_classname name<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--java_assembly_query_classname-name" title="Direct link to heading">#</a></h3><ul><li>Fully qualified name of the parent class for the Java assembly. Used by java code generators when they output an extension fragment class.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--java_fragment_interface_mode"></a>--java_fragment_interface_mode<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--java_fragment_interface_mode" title="Direct link to heading">#</a></h3><ul><li>Sets the Java codegen mode to generate interfaces for base and extension fragments instead of classes.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--java_fragment_interfaces-interface"></a>--java_fragment_interfaces interface<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--java_fragment_interfaces-interface" title="Direct link to heading">#</a></h3><ul><li>Fully qualified name of the generated Java interfaces that an extension or assembly fragment implements. This should correspond to the base fragment and extension fragments that are referenced by the current fragment being generated.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--java_imports-name"></a>--java_imports name<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--java_imports-name" title="Direct link to heading">#</a></h3><ul><li>Fully qualified name to import in the emitted java source.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--c_include_namespace"></a>--c_include_namespace<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--c_include_namespace" title="Direct link to heading">#</a></h3><ul><li>for the C codegen runtimes, it determines the header namespace (as in #include &lt;namespace/file.h) that the headers will have to be referred when included from other sources.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--objc_c_include_path"></a>--objc_c_include_path<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--objc_c_include_path" title="Direct link to heading">#</a></h3><ul><li>for ObjC codegen runtimes that need to refer to the generated C code, this represents the header of the C generated code that will be used during inclusion from the ObjC file</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="result-types---rt-"></a>Result Types (--rt *)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#result-types---rt-" title="Direct link to heading">#</a></h3><p>These are the various outputs the compiler can produce.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--rt-c"></a>--rt c<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--rt-c" title="Direct link to heading">#</a></h4><ul><li>requires two output files (foo.h and foo.c)</li><li>this is the standard C compilation of the sql file</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--cqlrt-fooh"></a>--cqlrt foo.h<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--cqlrt-fooh" title="Direct link to heading">#</a></h5><ul><li>emits <code>#include &quot;foo.h&quot;</code> into the C output instead of <code>#include &quot;cqlrt.h&quot;</code></li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--generate_type_getters"></a>--generate_type_getters<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--generate_type_getters" title="Direct link to heading">#</a></h5><ul><li>changes C output for CQL result sets so that the field readers used shared functions to get fields of a certain type</li><li>this style of codegen makes result-sets more interoperable with each other if they have similar shape so it can be useful</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--generate_exports"></a>--generate_exports<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--generate_exports" title="Direct link to heading">#</a></h5><ul><li>adds an additional output file</li><li>example:  `--in foo.sql --generate_exports --rt c --cg foo.h foo.c foo_exports.sql</li><li>the output file <code>foo_exports.sql</code> includes procedure declarations for the contents of <code>foo.sql</code></li><li>basically automatically generates the CQL header file you need to access the procedures in the input from some other file</li><li>if it were C it would be like auto-generating <code>foo.h</code> from <code>foo.c</code></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--rt-objc"></a>--rt objc<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--rt-objc" title="Direct link to heading">#</a></h4><ul><li>objective C wrappers for result sets produced by the stored procedures in the input</li><li>these depend on the output of a standard codegen run so this is additive</li><li>requires one output file (foo.h)</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--rt-java"></a>--rt java<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--rt-java" title="Direct link to heading">#</a></h4><ul><li>java wrappers for result sets produced by the stored procedures in the input</li><li>these depend on the output of a standard codegen run so this is additive</li><li>requires one output file (foo.java)</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--rt-schema"></a>--rt schema<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--rt-schema" title="Direct link to heading">#</a></h4><ul><li>produces the canonical schema for the given input files</li><li>stored procedures etc. are removed</li><li>whitespace etc. is removed</li><li>suitable for use to create the next or first &quot;previous&quot; schema for schema validation</li><li>requires one output file</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--rt-schema_facet_checker"></a>--rt schema_facet_checker<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--rt-schema_facet_checker" title="Direct link to heading">#</a></h4><ul><li>produces a CQL script that checks whether the schema is up to date which can then be compiled with CQL itself</li><li>see the chapter on schema upgrade/migration: <a href="https://cgsql.dev/cql-guide/ch10/" target="_blank" rel="noopener noreferrer">Chapter 10</a></li><li>requires one output file (foo.sql)</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--rt-schema_upgrade"></a>--rt schema_upgrade<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--rt-schema_upgrade" title="Direct link to heading">#</a></h4><ul><li>produces a CQL schema upgrade script which can then be compiled with CQL itself</li><li>see the chapter on schema upgrade/migration: <a href="https://cgsql.dev/cql-guide/ch10/" target="_blank" rel="noopener noreferrer">Chapter 10</a></li><li>requires one output file (foo.sql)</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--include_regions-a-b-c"></a>--include_regions a b c<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--include_regions-a-b-c" title="Direct link to heading">#</a></h5><ul><li>the indicated regions will be declared</li><li>used with <code>--rt schema_upgrade</code> or <code>--rt schema</code></li><li>in the upgrade case excluded regions will not be themselves upgraded, but may be referred, to by things that are being upgraded</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--exclude_regions-x-y-z"></a>--exclude_regions x y z<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--exclude_regions-x-y-z" title="Direct link to heading">#</a></h5><ul><li>the indicated regions will still be declared but the upgrade code will be suppressed, the presumption being that a different script already upgrades x y z</li><li>used with <code>--rt schema_upgrade</code></li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--min_schema_version-n"></a>--min_schema_version n<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--min_schema_version-n" title="Direct link to heading">#</a></h5><ul><li>the schema upgrade script will not include upgrade steps for schema older than the version specified</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--schema_exclusive"></a>--schema_exclusive<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--schema_exclusive" title="Direct link to heading">#</a></h5><ul><li>the schema upgrade script assumes it owns all the schema in the database, it aggressively removes other things</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--rt-json_schema"></a>--rt json_schema<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--rt-json_schema" title="Direct link to heading">#</a></h4><ul><li>produces JSON output suitable for consumption by downstream codegen</li><li>the JSON includes a definition of the various entities in the input</li><li>see the section on JSON output for details</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--rt-query_plan"></a>--rt query_plan<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--rt-query_plan" title="Direct link to heading">#</a></h4><ul><li>produces CQL output which can be re-compiled by CQL as normal input</li><li>the output consists of a set of procedures that will emit all query plans for the DML that was in the input</li><li>see <code>--rt udf</code> for additional info</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--rt-stats"></a>--rt stats<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--rt-stats" title="Direct link to heading">#</a></h4><ul><li>produces  a simple .csv file with node count information for AST nodes per procedure in the input</li><li>requires one output file (foo.csv)</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="--rt-udf"></a>--rt udf<a aria-hidden="true" tabindex="-1" class="hash-link" href="#--rt-udf" title="Direct link to heading">#</a></h4><ul><li>produces stub UDF implementations for all UDFS that were seen in the input</li><li>this output is suitable for use with <code>--rt query_plan</code> so that SQL with UDFs will run in a simple context</li><li>requires two output files (e.g. udfs.h and udfs.c)</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-03-08T03:08:19.000Z" class="docLastUpdatedAt_217_">3/8/2022</time> by <strong>Winnie Quinn</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cql-guide/ch14"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Chapter 14: CQL Query Fragments</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cql-guide/x2"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Appendix 2: CQL Grammar Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#with-no-options" class="table-of-contents__link">With No Options</a></li><li><a href="#--in-file" class="table-of-contents__link">--in file</a></li><li><a href="#--sem" class="table-of-contents__link">--sem</a></li><li><a href="#--ast" class="table-of-contents__link">--ast</a></li><li><a href="#--echo" class="table-of-contents__link">--echo</a></li><li><a href="#--dot" class="table-of-contents__link">--dot</a></li><li><a href="#--cg-output1-output2-" class="table-of-contents__link">--cg output1 output2 ...</a></li><li><a href="#--nolines" class="table-of-contents__link">--nolines</a></li><li><a href="#--global_proc-name" class="table-of-contents__link">--global_proc name</a></li><li><a href="#--compress" class="table-of-contents__link">--compress</a></li><li><a href="#--test" class="table-of-contents__link">--test</a></li><li><a href="#--dev" class="table-of-contents__link">--dev</a></li><li><a href="#--java_package_name-name" class="table-of-contents__link">--java_package_name name</a></li><li><a href="#--java_assembly_query_classname-name" class="table-of-contents__link">--java_assembly_query_classname name</a></li><li><a href="#--java_fragment_interface_mode" class="table-of-contents__link">--java_fragment_interface_mode</a></li><li><a href="#--java_fragment_interfaces-interface" class="table-of-contents__link">--java_fragment_interfaces interface</a></li><li><a href="#--java_imports-name" class="table-of-contents__link">--java_imports name</a></li><li><a href="#--c_include_namespace" class="table-of-contents__link">--c_include_namespace</a></li><li><a href="#--objc_c_include_path" class="table-of-contents__link">--objc_c_include_path</a></li><li><a href="#result-types---rt-" class="table-of-contents__link">Result Types (--rt *)</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/channel/UC2lTapw2Um90sZpGQVaynEg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://twitter.com/metaOpenSource" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebookincubator/CG-SQL" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1zJy"><img class="footer__logo" alt="Meta Platforms Open Source Logo" src="/img/oss_logo.png"></a></div><div>Copyright Â© 2022 Meta Platforms, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.c5ebf3bf.js"></script>
<script src="/runtime~main.07c2b583.js"></script>
<script src="/main.5f50e6e2.js"></script>
<script src="/1.97dd76d6.js"></script>
<script src="/2.3b029fcc.js"></script>
<script src="/3.410ae77a.js"></script>
<script src="/1be78505.41f57780.js"></script>
<script src="/104.08649ef1.js"></script>
<script src="/5456faf3.7d435045.js"></script>
<script src="/17896441.8db391fa.js"></script>
<script src="/477ff84b.075c9184.js"></script>
</body>
</html>